DROP DATABASE IF EXISTS railways;
create database railways;
use railways;
create table Train_Schedule(TRAIN_NO int NOT NULL PRIMARY KEY,TRAIN_NAME varchar(40),ORIGIN varchar(40),DESTINATION VARCHAR(40),RUNS_ON VARCHAR(20));
INSERT INTO Train_Schedule values
(22167,'Muv Festival Sp','LOKMANYA T','MADUADIH','MON FRI'),
(12391,'Shramjeevi Express','RAJGIR','NEW DELHI','DAILY'),
(19040,'Mfp Bdts Special','MUZAFFARPUR JN','BANDRA TERMINUS','SUN TUE THU'),
(12947,'Azimabad Express','AHMEDABAD JN','PATNA JN','MON THU'),
(51093,'Csmt Bsb Spl','C SHIVAJI MAH T','VARANASI JN','DAILY'),
(12354,'Lku Hwh Exp','LAL KUAN','HOWRAH JN','FRI'),
(12952,'Mumbai Rajdhani','NEW DELHI','MUMBAI CENTRaL','DAILY');


#TABLE FOR SEAT AVAILABILITY IN 22167

create table seat_availability_for_22167( Date_of_Journey  varchar(40),STATUS_3AC VARCHAR(20),3AC INT,STATUS_2AC VARCHAR(20),2AC INT,STATUS_SL VARCHAR(20),Sleeper INT);
 insert into seat_availability_for_22167 values
('2020-11-20','GNWL',69,'GNWL',21,'GNWL',230),
('2020-11-23','RAC',16,'RAC',2,'GNWL',66),
('2020-11-27','RAC',32,'RAC',1,'GNWL',69),
('2020-11-30','RAC',6,'GNWL',45,'GNWL',243),
('2020-12-04','RAC',11,'AVAILABLE',016,'GNWL',44),
('2020-12-07','GNWL',70,'AVAILABLE',014,'GNWL',46),
('2020-12-11','AVAILABLE',003,'AVAILABLE',012,'GNWL',56);


#TABLE FOR SEAT AVAILABILITY IN 12391

create table seat_availability_for_12391( Date_of_Journey  varchar(40),STATUS_3AC VARCHAR(20),3AC varchar(20),STATUS_2AC VARCHAR(20),2AC varchar(20),STATUS_SL VARCHAR(20),Sleeper varchar(20));
insert into seat_availability_for_12391 values
('2020-11-20','AVAILABLE',009,'AVAILABLE',010,'AVAILABLE',012),
('2020-11-21','AVAILABLE',008,'AVAILABLE',011,'AVAILABLE',003),
('2020-11-22','GNWL',23,'AVAILABLE',002,'AVAILABLE',004),
('2020-11-23','AVAILABLE',002,'AVAILABLE',001,'AVAILABLE',007),
('2020-11-24','AVAILABLE',001,'AVAILABLE',005,'RLWL',2),
('2020-11-25','AVAILABLE',460,'RAC',12,'GNWL',63),
('2020-11-26','GNWL',1,'GNWL',54,'AVAILABLE',007);



#TABLE FOR SEAT AVAILABILITY IN 19040

create table seat_availability_for_19040( Date_of_Journey  varchar(40),STATUS_3AC VARCHAR(20),3AC varchar(20),STATUS_2AC VARCHAR(20),2AC varchar(20),STATUS_SL VARCHAR(20),Sleeper varchar(20));
insert into seat_availability_for_19040 values('2020-11-22','GNWL',54,'RAC',2,'RAC',1);
insert into seat_availability_for_19040 values('2020-11-24','AVAILABLE',012,'REGRET',0,'REGRET',0);
insert into seat_availability_for_19040 values('2020-11-26','GNWL',4,'REGRET',0,'REGRET',0);
insert into seat_availability_for_19040 values('2020-11-29','RAC',22,'RAC',34,'GNWL',45);
insert into seat_availability_for_19040 values('2020-12-01','RAC',12,'AVAILABLE',023,'GNWL',33);
insert into seat_availability_for_19040 values('2020-12-03','PQWL',21,'GNWL',20,'AVAILABLE',212);
insert into seat_availability_for_19040 values('2020-12-06','AVAILABLE',124,'AVAILABLE',023,'AVAILABLE',012);



#TABLE FOR SEAT AVAILABILITY IN 12947

create table seat_availability_for_12947(Date_of_Journey  varchar(40),STATUS_3AC VARCHAR(20),3AC varchar(20),STATUS_2AC VARCHAR(20),2AC varchar(20),STATUS_SL VARCHAR(20),Sleeper varchar(20));
insert into seat_availability_for_12947 values('2020-11-23','GNWL',32,'AVAILABLE',018,'GNWL',343);
insert into seat_availability_for_12947 values('2020-11-26','GNWL',11,'AVAILABLE',112,'GNWL',35);
insert into seat_availability_for_12947 values('2020-11-30','AVAILABLE',001,'RAC',21,'AVAILABLE',012);
insert into seat_availability_for_12947 values('2020-12-03','PQWL',32,'RAC',1,'AVAILABLE',123);
insert into seat_availability_for_12947 values('2020-12-07','AVAILABLE',032,'AVAILABLE',007,'AVAILABLE',041);
insert into seat_availability_for_12947 values('2020-12-10','REGRET',0,'GNWL',122,'AVAILABLE',012);
insert into seat_availability_for_12947 values('2020-12-14','RAC',32,'GNWL',21,'AVAILABLE',078);



#TABLE FOR SEAT AVAILABILITY IN 51093


create table seat_availability_for_51093( Date_of_Journey  varchar(40),STATUS_3AC VARCHAR(20),3AC varchar(20),STATUS_2AC VARCHAR(20),2AC varchar(20),STATUS_SL VARCHAR(20),Sleeper varchar(20));
insert into seat_availability_for_51093 values('2020-11-20','AVAILABLE',078,'PQWL',5,'GNWL',6);
insert into seat_availability_for_51093 values('2020-11-21','GNWL',45,'AVAILABLE',063,'GNWL',69);
insert into seat_availability_for_51093 values('2020-11-22','AVAILABLE',068,'REGRET',0,'GNWL',5);
insert into seat_availability_for_51093 values('2020-11-23','AVAILABLE',098,'AVAILABLE',001,'AVAILABLE',058);
insert into seat_availability_for_51093 values('2020-11-24','RAC',4,'REGRET',0,'GNWL',56);
insert into seat_availability_for_51093 values('2020-11-25','AVAILABLE',006,'GNWL',45,'GNWL',1);
insert into seat_availability_for_51093 values('2020-11-26','RAC',68,'RAC',21,'AVAILABLE',123);


#TABLE FOR SEAT AVAILABILITY IN 12354

create table seat_availability_for_12354( Date_of_Journey  varchar(40),STATUS_3AC VARCHAR(20),3AC int,STATUS_2AC VARCHAR(20),2AC int,STATUS_SL VARCHAR(20),Sleeper int);
insert into seat_availability_for_12354 values('2020-11-20','RAC',78,'AVAILABLE',001,'GNWL',145);
insert into seat_availability_for_12354 values('2020-11-27','RAC',4,'RAC',12,'GNWL',56);
insert into seat_availability_for_12354 values('2020-12-04','AVAILABLE',078,'AVAILABLE',012,'GNWL',56);
insert into seat_availability_for_12354 values('2020-12-11','RAC',99,'AVAILABLE',089,'REGRET',0);
insert into seat_availability_for_12354 values('2020-12-18','RAC',4,'GNWL',62,'PQWL',1);
insert into seat_availability_for_12354 values('2020-12-25','RAC',45,'AVAILABLE',045,'AVAILABLE',142);
insert into seat_availability_for_12354 values('2021-01-01','AVAILABLE',123,'AVAILABLE',056,'AVAILABLE',256);



#TABLE FOR SEAT AVAILABILITY IN 12952

create table seat_availability_for_12952( Date_of_Journey  varchar(40),STATUS_3AC VARCHAR(20),3AC int,STATUS_2AC VARCHAR(20),2AC int,STATUS_SL VARCHAR(20) DEFAULT 'DOES NOT EXIST',Sleeper varchar(40) DEFAULT 'CLASS DOES NOT EXIST');
insert into seat_availability_for_12952 ( Date_of_Journey,STATUS_3AC,3AC,STATUS_2AC,2AC) values
('2020-11-20','AVAILABLE',321,'RAC',1),
('2020-11-21','AVAILABLE',079,'AVAILABLE',041),
('2020-11-22','AVAILABLE',056,'AVAILABLE',089),
('2020-11-23','RAC',56,'AVAILABLE',099),
('2020-11-24','RAC',12,'AVAILABLE',100),
('2020-11-25','AVAILABLE',065,'AVAILABLE',056),
('2020-11-26','AVAILABLE',012,'AVAILABLE',073);


#TIMETABLE FOR 51093


create table timetable_51093(STATION_NAME VARCHAR(40),ARRIVAL varchar(40),DEPARTURE varchar(40),DISTANCE_KMS INT);
INSERT INTO timetable_51093 values
('C SHIVAJI MAH T','STARTS','00:10:00',0),
('KALYAN JN','01:02:00','01:05:00',40),
('NASHIK ROAD','03:40:00','03:45:00',885),
('ITARSI JN','12:35:00','12:45:00',1110),
('SHRIDHAM','15:13:00','15:15:00',1503),
('JABALPUR','16:10:00','16:20:00',1609),
('MANIKPUR','21:40:00','21:45:00',1709),
('VARANASI','04:40:00','ENDS',1789);


#TIME TABLE FOR 22167
create table timetable_22167(STATION_NAME VARCHAR(40),ARRIVAL varchar(40),DEPARTURE varchar(40),DISTANCE_KMS INT);
insert into timetable_22167 values
('LOKMANYATILAK T ','STARTS','00:35:00',0),
('KALYAN JN','01:20:00','01:33:00',34),
('NASHIK ROAD','04:08:00','04:10:00',166),
('BHUSAVAL JN','07:30:00','07:35:00',423),
('ITARSI JN','12:50:00','13:00:00',730),
('JABALPUR','16:30:00','16:40:00',976),
('VARANASI JN','03:45:00','03:55:00',1468),
('MANDUADIH','04:25:00','ENDS',1472);

#TIME TABLE FOR 12391
CREATE TABLE TIMETABLE_12391(STATION_NAME VARCHAR(40),ARRIVAL VARCHAR(40),DEPARTURE varchar(40),DISTANCE_KMS INT);
insert into timetable_12391 values
('RAJGIR','STARTS','08:00:00',0),
('FATWA','09:35:00','09:37:00',76),
('DANAPUR','10:45:00','10:47:00',108),
('ARA JN','11:18:00','11:20:00',147),
('BUXAR','12:14:00','12:16:00',216),
('VARANASI JN','15:02:00','15:12:00',328),
('LUCKNOW JN','20:03:00','20:13:00',610),
('BAREILLY','23:49:00','23:51:00',843),
('GHAZIABAD','03:54:00','03:56:00',1076),
('NEW DELHI','04:45:00','ENDS',1101);



#TIME TABLE FOR 19040

CREATE TABLE TIMETABLE_19040(STATION_NAME VARCHAR(40),ARRIVAL VARCHAR(40),DEPARTURE VARCHAR(40),DISTANCE_KMS INT);
INSERT INTO TIMETABLE_19040 VALUES
('MUZAFFARPUR JN','STARTS','06:00:00',0),
('SAGAULI JN','07:41:00','07:43:00',100),
('KHADA','10:59:00','11:01:00',230),
('GORAKHPUR JN','13:05:00','13:20:00',309),
('LUCKNOW CITY','19:53:00','19:55:00',581),
('KANPUR CENTRAL','22:30:00','22:35:00',655),
('AGRA FORT','04:00:00','04:10:00',909),
('KOTA JN','10:45:00','10:50:00',1242),
('RATLAM JN','16:30:00','16:40:00',1509),
('VADODARA JN','20:47:00','20:57:00',1770),
('BANDRA TERMINUS','04:35:00','ENDS',2151);

#TIMETABLE FOR 12947
CREATE TABLE TIMETABLE_12947(STATION_NAME VARCHAR(40),ARRIVAL VARCHAR(40),DEPARTURE VARCHAR(40),DISTANCE_KMS INT);
INSERT INTO TIMETABLE_12947 VALUES
('AHMEDABAD JN','STARTS','21:50:00',0),
('RATLAM JN','03:45:00','03:55:00',349),
('SAWAI MADHOPUR','08:50:00','08:55:00',724),
('AGRA FORT','13:20:00','13:25:00',949),
('KANPUR CENTRAL','18:55:00','19:05:00',1203),
('DDU','00:47:00','00:49:00',1550),
('PATNA JN','04:30:00','ENDS',1762);



#TIMETABLE FOR 12354


CREATE TABLE TIMETABLE_12354(STATION_NAME VARCHAR(40),ARRIVAL VARCHAR(40),DEPARTURE VARCHAR(40),DISTANCE_KMS INT);

INSERT INTO TIMETABLE_12354 VALUES
('LAL KUAN','STARTS','19:20:00',0),
('BAREILLY CITY','21:10:00','21:15:00',81),
('PRATAPGARH JN','04:20:00','04:25:00',492),
('DDU','08:13:00','08:33:00',636),
('GAYA JN','10:5:00','11:00:00',842),
('ASANSOL JN','15:39:00','15:44:00',1099),
('DURGAPUR','16:14:00','16:16:00',1142),
('HOWRAH JN','18:55:00','ENDS',1300);



#TIMETABLE FOR 12952

CREATE TABLE TIMETABLE_12952(STATION_NAME VARCHAR(40),ARRIVAL VARCHAR(40),DEPARTURE VARCHAR(40),DISTANCE_KMS INT);
INSERT INTO TIMETABLE_12952 VALUES
('NEW DELHI','STARTS','16:25:00',0),
('KOTA JN','21:05:00','21:10:00',465),
('RATLAM JN','00:05:00','00:08:00',732),
('VADODARA JN','0:24:00','03:34:00',992),
('SURAT','04:58:00','05:03:00',1122),
('MUMBAI CENTRAL','08:15:00','ENDS',1385);

#TABLE FOR PASSENGER

create table PASSENGER(PNR BIGINT(20) NOT NULL,TRAIN_NO INT,PASSENGER_NAME VARCHAR(30) NOT NULL,AGE INT,GENDER VARCHAR(3),ORIGIN VARCHAR(40),DESTINATION VARCHAR(40),DATE_OF_JOURNEY VARCHAR(40),CLASS VARCHAR(10),SEAT_STATUS VARCHAR(30));


#TABLE PAYMENT DETAILS

create table PAYMENT_DETAILS(PNR BIGINT(20),TRANSACTION_ID VARCHAR(30),AMOUNT INT);


